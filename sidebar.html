<!-- –°–∞–π–¥–±–∞—Ä —ñ–∑ –∫—ñ–º–Ω–∞—Ç–∞–º–∏ -->
<template x-if="accessToken">
  <div class="sidebar bg-gradient-to-b from-indigo-50 via-blue-50 to-purple-50 border-r border-indigo-100 p-5 rounded-l-2xl shadow-xl flex flex-col justify-between h-[80vh]">

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div>
      <h2 class="text-2xl font-bold text-indigo-700 mb-4 text-center">üí¨ –ö—ñ–º–Ω–∞—Ç–∏</h2>

      <!-- –°–ø–∏—Å–æ–∫ –∫—ñ–º–Ω–∞—Ç -->
      <ul class="room-list sidebar-list space-y-1 px-1">
        <template x-for="room in rooms" :key="room.roomId">
          <li
            class="flex items-center justify-between cursor-pointer rounded-lg px-3 py-2 hover:bg-indigo-50 transition"
            :class="{ 'bg-indigo-200 text-indigo-800 font-semibold shadow-sm': room.roomId === roomId }"
          >
            <!-- –ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –Ω–∞ –Ω–∞–∑–≤—É ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–∏ –∫—ñ–º–Ω–∞—Ç—É -->
            <span 
              class="flex-1 truncate" 
              @click="switchRoom(room.roomId)"
              x-text="room.name || room.roomId"
            ></span>

            <!-- –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è -->
            <button 
              @click.stop="leaveRoom(room.roomId)"
              class="ml-2 text-red-500 hover:text-red-700 text-xs font-medium"
            >
              √ó –í–∏–¥–∞–ª–∏—Ç–∏
            </button>
          </li>
        </template>
      </ul>
    </div>

    <!-- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó –∫—ñ–º–Ω–∞—Ç–∏ -->
    <div class="mt-6 bg-white/60 backdrop-blur-md rounded-xl shadow-md p-4 border border-white/40">
      <h3 class="text-lg font-semibold text-gray-700 mb-3 text-center">‚ûï –ù–æ–≤–∞ –∫—ñ–º–Ω–∞—Ç–∞</h3>

      <input 
        x-model="newRoomName" 
        placeholder="–ù–∞–∑–≤–∞ –∫—ñ–º–Ω–∞—Ç–∏..." 
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 transition-all duration-200 shadow-sm hover:shadow-md mb-3"
      >

      <button 
        @click="createRoom()" 
        class="w-full py-2 bg-gradient-to-r from-indigo-500 to-blue-500 text-white font-semibold rounded-lg shadow-md hover:from-indigo-600 hover:to-blue-600 transform hover:scale-[1.02] transition-all duration-200"
      >
        –°—Ç–≤–æ—Ä–∏—Ç–∏
      </button>

      <p x-show="newRoomId" class="text-sm text-gray-600 text-center mt-2">
        üÜî <span class="font-medium text-indigo-600" x-text="newRoomId"></span>
      </p>
    </div>

  </div>
</template>
